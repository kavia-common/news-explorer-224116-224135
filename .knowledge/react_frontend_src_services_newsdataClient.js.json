{"is_source_file": true, "format": "JavaScript", "description": "This file implements a client for the Newsdata.io API, providing functions to fetch news articles with retry logic, parameter normalization, and endpoint selection based on query/filter criteria. It exposes a public method 'fetchArticles' and some internal utilities for testing.", "external_files": ["fetch"], "external_methods": ["fetch"], "published": ["fetchArticles", "__test__"], "classes": [], "methods": [{"name": "fetchWithRetry(url, opts = {}, retries = 2, backoffMs = 600)", "description": "Performs an HTTP fetch with exponential backoff retry logic, retrying up to 2 times with increasing delay.", "scope": "", "scopeKind": ""}, {"name": "normalizeParams(params = {})", "description": "Normalizes and cleans input query parameters, removing empty or default values, ensuring correct data types.", "scope": "", "scopeKind": ""}, {"name": "buildParams(params)", "description": "Constructs a URL query string from normalized parameters, including the API key.", "scope": "", "scopeKind": ""}, {"name": "chooseEndpointPath(norm)", "description": "Determines whether to use '/latest' or '/news' endpoint based on presence of query and filter parameters.", "scope": "", "scopeKind": ""}, {"name": "fetchArticles(params = {})", "description": "Main public method that fetches news articles from Newsdata.io, using the appropriate endpoint and query parameters, with fallback mock data if API key is missing.", "scope": "", "scopeKind": ""}], "calls": ["fetch"], "search-terms": ["newsdata.io", "fetchArticles", "API key", "retry logic", "normalize parameters"], "state": 2, "file_id": 16, "knowledge_revision": 71, "git_revision": "65a00924d512ff0bea324a888e086e8358c65288", "revision_history": [{"40": ""}, {"71": "65a00924d512ff0bea324a888e086e8358c65288"}], "ctags": [{"_type": "tag", "name": "API_KEY", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ const API_KEY = process.env.REACT_APP_NEWSDATA_API_KEY;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "BASE", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ const BASE = process.env.REACT_APP_NEWSDATA_BASE_URL || DEFAULT_BASE;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_BASE", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ const DEFAULT_BASE = 'https:\\/\\/newsdata.io\\/api\\/1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "__test__", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ export const __test__ = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildParams", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ function buildParams(params) {$/", "language": "JavaScript", "kind": "function", "signature": "(params)"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     category: norm.category,$/", "language": "JavaScript", "kind": "property", "scope": "fetchArticles.query", "scopeKind": "class"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     category:$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "chooseEndpointPath", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ function chooseEndpointPath(norm) {$/", "language": "JavaScript", "kind": "function", "signature": "(norm)"}, {"_type": "tag", "name": "country", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     country: country || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "country", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     country: norm.country,$/", "language": "JavaScript", "kind": "property", "scope": "fetchArticles.query", "scopeKind": "class"}, {"_type": "tag", "name": "fetchArticles", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ export async function fetchArticles(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "fetchWithRetry", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ async function fetchWithRetry(url, opts = {}, retries = 2, backoffMs = 600) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, opts = {}, retries = 2, backoffMs = 600)"}, {"_type": "tag", "name": "from_date", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     from_date: from_date || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "from_date", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     from_date: norm.from_date,$/", "language": "JavaScript", "kind": "property", "scope": "fetchArticles.query", "scopeKind": "class"}, {"_type": "tag", "name": "language", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     language: language || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "language", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     language: norm.language,$/", "language": "JavaScript", "kind": "property", "scope": "fetchArticles.query", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeParams", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^   normalizeParams,$/", "language": "JavaScript", "kind": "field", "scope": "__test__", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeParams", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ function normalizeParams(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^   const normalized = {$/", "language": "JavaScript", "kind": "class", "scope": "normalizeParams", "scopeKind": "class"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     page: Number.isFinite(Number(page)) && Number(page) > 0 ? Number(page) : 1,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     page: norm.page,$/", "language": "JavaScript", "kind": "property", "scope": "fetchArticles.query", "scopeKind": "class"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     q: norm.q,$/", "language": "JavaScript", "kind": "property", "scope": "fetchArticles.query", "scopeKind": "class"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     q:$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^   const query = {$/", "language": "JavaScript", "kind": "class", "scope": "fetchArticles", "scopeKind": "class"}, {"_type": "tag", "name": "to_date", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     to_date: norm.to_date,$/", "language": "JavaScript", "kind": "property", "scope": "fetchArticles.query", "scopeKind": "class"}, {"_type": "tag", "name": "to_date", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     to_date: to_date || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}], "hash": "49cd37c15ec55b9d06f9cf6ad95bd078", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/services/newsdataClient.js", "fields": [{"name": "category: norm.category,", "scope": "fetchArticles.query", "scopeKind": "class", "description": "unavailable"}, {"name": "category:", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "country: country || undefined,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "country: norm.country,", "scope": "fetchArticles.query", "scopeKind": "class", "description": "unavailable"}, {"name": "from_date: from_date || undefined,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "from_date: norm.from_date,", "scope": "fetchArticles.query", "scopeKind": "class", "description": "unavailable"}, {"name": "language: language || undefined,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "language: norm.language,", "scope": "fetchArticles.query", "scopeKind": "class", "description": "unavailable"}, {"name": "normalizeParams,", "scope": "__test__", "scopeKind": "class", "description": "unavailable"}, {"name": "page: Number.isFinite(Number(page)) && Number(page) > 0 ? Number(page) : 1,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "page: norm.page,", "scope": "fetchArticles.query", "scopeKind": "class", "description": "unavailable"}, {"name": "q: norm.q,", "scope": "fetchArticles.query", "scopeKind": "class", "description": "unavailable"}, {"name": "q:", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "to_date: norm.to_date,", "scope": "fetchArticles.query", "scopeKind": "class", "description": "unavailable"}, {"name": "to_date: to_date || undefined,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}]}