{"is_source_file": true, "format": "JavaScript", "description": "This is a JavaScript module providing a client interface for interacting with the Newsdata.io API. It includes functions for normalizing parameters, determining API endpoints, handling pagination, error processing, and fetching articles based on specified filters. The code manages environment variables for API configuration and provides internal utilities for robust API communication and error handling.", "external_files": ["fetch", "Environment variables management", "External API (fetch)"], "external_methods": ["fetch"], "published": ["fetchArticles", "__test__"], "classes": [], "methods": [{"name": "toApiError(res)", "description": "Transforms a fetch Response into a detailed Error object, including API-specific pagination hints.", "scope": "", "scopeKind": ""}, {"name": "safeFetchJson(url, opts = {})", "description": "Performs a fetch request and returns JSON data; throws a detailed error if response is not OK.", "scope": "", "scopeKind": ""}, {"name": "normalizeParams(params = {})", "description": "Normalizes input query parameters for the API, handling empty values, date clamps, and category filters.", "scope": "", "scopeKind": ""}, {"name": "buildParams(params)", "description": "Builds URL query string from parameters, including API key.", "scope": "", "scopeKind": ""}, {"name": "chooseEndpointPath(norm)", "description": "Determines whether to use the '/latest' or '/news' endpoint based on filters.", "scope": "", "scopeKind": ""}, {"name": "tokenParam(token)", "description": "Decides how to pass pagination tokens, either as 'page' with a number or an opaque string.", "scope": "", "scopeKind": ""}, {"name": "fetchArticles(params = {})", "description": "Main function to fetch news articles from Newsdata.io, with support for pagination, error handling, and filter options.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "toApiError", "safeFetchJson", "normalizeParams", "buildParams", "chooseEndpointPath", "tokenParam"], "search-terms": ["newsdata.io", "fetchArticles", "pagination token", "endpoint selection", "error handling", "normalize query params", "API key management"], "state": 2, "file_id": 16, "knowledge_revision": 78, "git_revision": "3ffa2cc420242b1f3bd0b1f609aebd2f02d338b1", "revision_history": [{"40": ""}, {"71": "65a00924d512ff0bea324a888e086e8358c65288"}, {"73": "27a802cb819131e4adf8f42331781a140f793e48"}, {"78": "3ffa2cc420242b1f3bd0b1f609aebd2f02d338b1"}], "ctags": [{"_type": "tag", "name": "API_KEY", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ const API_KEY = process.env.REACT_APP_NEWSDATA_API_KEY;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "BASE", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ const BASE = process.env.REACT_APP_NEWSDATA_BASE_URL || DEFAULT_BASE;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_BASE", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ const DEFAULT_BASE = 'https:\\/\\/newsdata.io\\/api\\/1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "__test__", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ export const __test__ = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildParams", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ function buildParams(params) {$/", "language": "JavaScript", "kind": "function", "signature": "(params)"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     category:$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "chooseEndpointPath", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ function chooseEndpointPath(norm) {$/", "language": "JavaScript", "kind": "function", "signature": "(norm)"}, {"_type": "tag", "name": "country", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     country: country || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "fetchArticles", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ export async function fetchArticles(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "from_date", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     from_date: fd,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "language", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     language: language || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeParams", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^   normalizeParams,$/", "language": "JavaScript", "kind": "field", "scope": "__test__", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeParams", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ function normalizeParams(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^   const normalized = {$/", "language": "JavaScript", "kind": "class", "scope": "normalizeParams", "scopeKind": "class"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     q: typeof q === 'string' && q.trim().length > 0 ? q.trim() : undefined,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "safeFetchJson", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ async function safeFetchJson(url, opts = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, opts = {})"}, {"_type": "tag", "name": "toApiError", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ async function toApiError(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "to_date", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     to_date: td,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "token", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     token: typeof token === 'string' && token.trim() !== '' ? token.trim() : (Number.isFinite(N/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "tokenParam", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ function tokenParam(token) {$/", "language": "JavaScript", "kind": "function", "signature": "(token)"}], "hash": "e41dfa6c859496d0b04afa5905f3d495", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/services/newsdataClient.js", "fields": [{"name": "category:", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "country: country || undefined,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "from_date: fd,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "language: language || undefined,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "normalizeParams,", "scope": "__test__", "scopeKind": "class", "description": "unavailable"}, {"name": "q: typeof q === 'string' && q.trim().length > 0 ? q.trim() : undefined,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "to_date: td,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "token: typeof token === 'string' && token.trim() !== '' ? token.trim() : (Number.isFinite(N/", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}]}