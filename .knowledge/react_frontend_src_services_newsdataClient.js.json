{"is_source_file": true, "format": "JavaScript", "description": "This file is a JavaScript source file defining a client module for interacting with the Newsdata.io API, including functions for fetching articles with parameter normalization, error handling, and endpoint selection. It includes internal utility functions and an exported fetchArticles function used by other parts of the application.", "external_files": ["fetch", "process.env"], "external_methods": ["fetch"], "published": ["fetchArticles"], "classes": [], "methods": [{"name": "toApiError(res)", "description": "Converts an HTTP Response object into a detailed Error, extracting message details from JSON or text responses.", "scope": "", "scopeKind": ""}, {"name": "safeFetchJson(url, opts = {})", "description": "Performs an HTTP fetch operation and returns parsed JSON, throwing an error if the response is not successful.", "scope": "", "scopeKind": ""}, {"name": "normalizeParams(params = {})", "description": "Normalizes and sanitizes query parameters for API requests, ensuring correct formats, order, and date constraints.", "scope": "", "scopeKind": ""}, {"name": "buildParams(params)", "description": "Builds URL query string from parameters object, including API key if available.", "scope": "", "scopeKind": ""}, {"name": "chooseEndpointPath(norm)", "description": "Decides whether to use the '/latest' or '/news' endpoint based on presence of filters.", "scope": "", "scopeKind": ""}, {"name": "fetchArticles(params = {})", "description": "Main exported function for fetching news articles from the API, selecting endpoints, handling params, and managing API key fallback.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "toApiError", "normalizeParams", "chooseEndpointPath", "buildParams"], "search-terms": ["newsdataClient", "fetchArticles", "normalizeParams", "chooseEndpointPath", "API_KEY", "newsdata.io API", "/latest", "/news"], "state": 2, "file_id": 16, "knowledge_revision": 73, "git_revision": "27a802cb819131e4adf8f42331781a140f793e48", "revision_history": [{"40": ""}, {"71": "65a00924d512ff0bea324a888e086e8358c65288"}, {"73": "27a802cb819131e4adf8f42331781a140f793e48"}], "ctags": [{"_type": "tag", "name": "API_KEY", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ const API_KEY = process.env.REACT_APP_NEWSDATA_API_KEY;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "BASE", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ const BASE = process.env.REACT_APP_NEWSDATA_BASE_URL || DEFAULT_BASE;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_BASE", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ const DEFAULT_BASE = 'https:\\/\\/newsdata.io\\/api\\/1';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "__test__", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ export const __test__ = {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "buildParams", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ function buildParams(params) {$/", "language": "JavaScript", "kind": "function", "signature": "(params)"}, {"_type": "tag", "name": "category", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     category:$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "chooseEndpointPath", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ function chooseEndpointPath(norm) {$/", "language": "JavaScript", "kind": "function", "signature": "(norm)"}, {"_type": "tag", "name": "country", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     country: country || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "fetchArticles", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ export async function fetchArticles(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "from_date", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     from_date: fd,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "language", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     language: language || undefined,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeParams", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^   normalizeParams,$/", "language": "JavaScript", "kind": "field", "scope": "__test__", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeParams", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ function normalizeParams(params = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(params = {})"}, {"_type": "tag", "name": "normalized", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^   const normalized = {$/", "language": "JavaScript", "kind": "class", "scope": "normalizeParams", "scopeKind": "class"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     page: Number.isFinite(Number(page)) && Number(page) > 0 ? Number(page) : 1,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "page", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^   let query = { page: norm.page };$/", "language": "JavaScript", "kind": "property", "scope": "fetchArticles.query", "scopeKind": "class"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     q: typeof q === 'string' && q.trim().length > 0 ? q.trim() : undefined,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}, {"_type": "tag", "name": "query", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^   let query = { page: norm.page };$/", "language": "JavaScript", "kind": "class", "scope": "fetchArticles", "scopeKind": "class"}, {"_type": "tag", "name": "safeFetchJson", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ async function safeFetchJson(url, opts = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, opts = {})"}, {"_type": "tag", "name": "toApiError", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^ async function toApiError(res) {$/", "language": "JavaScript", "kind": "function", "signature": "(res)"}, {"_type": "tag", "name": "to_date", "path": "/home/kavia/workspace/code-generation/news-explorer-224116-224135/react_frontend/src/services/newsdataClient.js", "pattern": "/^     to_date: td,$/", "language": "JavaScript", "kind": "property", "scope": "normalizeParams.normalized", "scopeKind": "class"}], "hash": "4999c45a1c23c3dfc57464b3640c1c4c", "format-version": 4, "code-base-name": "react_frontend", "filename": "react_frontend/src/services/newsdataClient.js", "fields": [{"name": "category:", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "country: country || undefined,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "from_date: fd,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "language: language || undefined,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "normalizeParams,", "scope": "__test__", "scopeKind": "class", "description": "unavailable"}, {"name": "page: Number.isFinite(Number(page)) && Number(page) > 0 ? Number(page) : 1,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "let query = { page: norm.page };", "scope": "fetchArticles.query", "scopeKind": "class", "description": "unavailable"}, {"name": "q: typeof q === 'string' && q.trim().length > 0 ? q.trim() : undefined,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}, {"name": "to_date: td,", "scope": "normalizeParams.normalized", "scopeKind": "class", "description": "unavailable"}]}